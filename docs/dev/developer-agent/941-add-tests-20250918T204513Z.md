# Task: Add Unit Tests for Recent Changes (Issue #941)

## Context

- Recent commits refined issue_comment type handling and enhanced enrich fallbacks and rules composition metadata.
- Baseline tests pass; aim to improve coverage for:
  - Enrichment fallback of PR fields (number, draft, mergeable_state) when GitHub enrichment is partial
  - Rules metadata `enriched.metadata.rules_status` on success and failure

## Plan

1. Add test: enrich fallback of PR fields when `enrichGithubEvent` path errors (partial enrichment)
2. Add tests: rules metadata â€” ok path and error path (invalid rules file)
3. Run full test suite to validate
4. Open PR linking to issue #941

## Notes

- Keep tests isolated and avoid network; use mocks and temporary files
- Follow existing testing style with Vitest
