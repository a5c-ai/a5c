# E2E for mentions flags — code comment scanning (issue #561)

Plan:

- Implement tests/mentions.flags.e2e.test.ts exercising enrich flags:
  - default scan on → mentions include code_comment
  - scan disabled → no code_comment
  - size cap → skip large files
  - language allowlist → only matching languages scanned
- Use samples/pull_request.synchronize.json and mock octokit to inject files/patches.
- Keep tests hermetic and fast.

Notes:

- Flags parsed in src/enrich.ts: mentions.scan.changed_files, mentions.max_file_bytes, mentions.languages.
- Scanning performed via scanMentionsInCodeComments() and Octokit content fallback.
