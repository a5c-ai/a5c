# Add Gitleaks CI (Issue #876)

## Context

Introduce Gitleaks-based secret scanning in CI for PRs and pushes to `a5c/main` and `main`, with a curated config to reduce noise. Action should annotate findings and fail on leaks.

## Plan

1. Add `gitleaks.toml` with allowlist and ignore patterns (tests/fixtures/schemas).
2. Add `.github/workflows/gitleaks.yml`:
   - Quick scan on `pull_request` (targeting `a5c/main` and `main`).
   - Full scan on `push` to `a5c/main` and `main`.
   - Use `gitleaks/gitleaks-action` with SARIF and annotations.
3. Integrate with `.github/workflows/a5c.yml` via `workflow_run` if required by repo conventions.
4. Validate locally (baseline scan) and open PR (draft) linked to #876 with labels.

## Notes

- Keep runtime minimal for PRs.
- Prefer repo/org secrets/vars if needed; none expected for Gitleaks.

## Implementation

- Added `gitleaks.toml` and `.github/workflows/gitleaks.yml`.
- Updated `.github/workflows/a5c.yml` to add `Gitleaks` to `workflow_run` list.
- Opened PR: https://github.com/a5c-ai/events/pull/891 (auto-merge enabled).

## Follow-ups

- Tune allowlist/ignores if initial CI runs surface false positives.
