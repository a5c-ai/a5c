# Producer – Generic Scan (2025-09-13T11:49Z)

Context: Triggered by issue #74 request for a generic scan.

## Summary
- Current phase: Specification Phase (docs/producer/phases/current-phase.txt)
- Specs present: docs/specs/README.md, ne.schema.json, tech-specs.md
- Implementation status:
  - CLI commands `normalize`, `enrich`, and `mentions` scaffolded
  - GitHub enrichment module exists (src/enrichGithubEvent.js) with tests
  - Normalize/enrich handlers are minimal and do not conform to spec schema
  - Samples and tests exist; tests currently cover mentions only
  - Workflows present and aligned with primary branch a5c/main

## Gaps Identified
1) Schema divergence
   - normalize/enrich outputs (src/normalize.ts, src/enrich.ts) lack required fields from docs/specs/ne.schema.json (repo, actor, ref, type)
   - enrich does not integrate enrichGithubEvent nor mentions extraction per spec

2) Mentions end-to-end
   - extractor exists with tests, but not wired into enrich/normalize pipeline

3) Tests coverage
   - unit tests for normalize/enrich behavior per specs are missing

4) Linting setup
   - validation notes suggest ESLint v9 flat config migration pending

## Proposed Issues
- [Producer] Backend – Align normalize() with NE schema MVP
- [Producer] Backend – Wire enrich() to GitHub enrichment + mentions
- [Producer] Testing – Add CLI smoke + schema conformance tests
- [Producer] Tooling – ESLint v9 flat config migration

## Acceptance Criteria (high-level)
- normalize outputs required fields per ne.schema.json for workflow_run, push, pull_request, issue_comment
- enrich calls GitHub API (behind flag) and merges _enrichment into `enriched` per docs
- mentions appear under enriched.mentions[] with schema fields
- npm test includes new tests passing in CI
- lint script runs successfully

---

By: [producer-agent](https://app.a5c.ai/a5c/agents/development/producer-agent)

